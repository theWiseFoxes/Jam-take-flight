[gd_scene load_steps=17 format=3 uid="uid://c0y4dyau3t2m"]

[ext_resource type="PackedScene" uid="uid://chjy4i16ags2x" path="res://Scenes/gameScenes/backgroundlayer3D.tscn" id="1_1ilih"]
[ext_resource type="Script" path="res://Scripts/cameraScript.gd" id="3_5we1y"]
[ext_resource type="Script" path="res://Scripts/carScript.gd" id="3_hcua3"]
[ext_resource type="Script" path="res://Scripts/obstacles/obstacle3DSpawner.gd" id="4_2rqip"]
[ext_resource type="PackedScene" uid="uid://b5vohw25088j3" path="res://Scenes/player/player_plane2.tscn" id="4_5rixn"]
[ext_resource type="PackedScene" uid="uid://bxptbdo7fafog" path="res://Scenes/obstacles/obstacleBase3D.tscn" id="6_05ryx"]
[ext_resource type="Script" path="res://Scripts/obstacles/obstacleType.gd" id="7_m8pou"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_q5vsl"]
friction = 0.5
bounce = 0.5

[sub_resource type="BoxMesh" id="BoxMesh_7k1ab"]
size = Vector3(0.5, 0.1, 0.3)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_xuh51"]
height = 1.0
radius = 0.25

[sub_resource type="CylinderMesh" id="CylinderMesh_5qsmm"]
top_radius = 0.25
bottom_radius = 0.25
height = 1.0

[sub_resource type="BoxShape3D" id="BoxShape3D_2b7yy"]
size = Vector3(24, 1, 4)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_m3vfq"]
height = 0.841654
radius = 0.337474

[sub_resource type="CapsuleMesh" id="CapsuleMesh_76khr"]

[sub_resource type="SphereShape3D" id="SphereShape3D_q4haw"]
radius = 1.0

[sub_resource type="Resource" id="Resource_le3mh"]
script = ExtResource("7_m8pou")
name = ""
objectPath2D = ""
objectPath3D = ""

[node name="Node3D" type="Node3D"]

[node name="backgroundLayer" parent="." instance=ExtResource("1_1ilih")]
transform = Transform3D(1.00261, 0, 0, 0, 1.00261, 0, 0, 0, 1.00261, 0, 0, -2)

[node name="gameLayer" type="Node3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="gameLayer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.724, 6.215, 1.42)
script = ExtResource("3_5we1y")
topOffset = 0.7
bottomOffset = -0.7

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="gameLayer"]
transform = Transform3D(-0.00567264, 0.541678, -0.840567, -0.00880223, 0.84052, 0.541708, 0.999945, 0.0104718, 1.00237e-08, -0.597, 3.46, 0)
shadow_enabled = true

[node name="player" parent="gameLayer" instance=ExtResource("4_5rixn")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.591, 5.881, 0)
physics_material_override = SubResource("PhysicsMaterial_q5vsl")
upwardForceValue = 20.0
rotationalSpeedDeg = 60.0
startSpeed = Vector3(5, 0, 0)
areaScale = Vector3(1, 1, 1)

[node name="CarMesh" type="MeshInstance3D" parent="gameLayer"]
transform = Transform3D(1, 7.81743e-05, -0.00011466, -7.81743e-05, 1, 1.54052e-05, 0.00011466, -1.54052e-05, 1, 3.316, 0.05, 0)
mesh = SubResource("BoxMesh_7k1ab")
skeleton = NodePath("../..")
script = ExtResource("3_hcua3")

[node name="RayCast3D" type="RayCast3D" parent="gameLayer/CarMesh"]
transform = Transform3D(-4.37114e-08, -1, 0, -4.37114e-08, 1.91069e-15, -1, 1, -4.37114e-08, -4.37114e-08, 0, 0, 0)
target_position = Vector3(0, -0.5, 0)
hit_back_faces = false

[node name="obstacleSpawner" type="Node3D" parent="gameLayer"]
script = ExtResource("4_2rqip")

[node name="bin" type="StaticBody3D" parent="gameLayer" groups=["goal"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22.2691, 0.304, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="gameLayer/bin"]
shape = SubResource("CylinderShape3D_xuh51")

[node name="MeshInstance3D" type="MeshInstance3D" parent="gameLayer/bin"]
mesh = SubResource("CylinderMesh_5qsmm")

[node name="floor" type="StaticBody3D" parent="gameLayer" groups=["floor"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="gameLayer/floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, -0.5, 0)
shape = SubResource("BoxShape3D_2b7yy")

[node name="outerCan" type="CollisionShape3D" parent="gameLayer/floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22.2834, 0.196, 0)
shape = SubResource("CylinderShape3D_m3vfq")

[node name="obstacle2" parent="gameLayer" instance=ExtResource("6_05ryx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.616, 3.698, 0)
currMesh = SubResource("CapsuleMesh_76khr")
currShape = SubResource("SphereShape3D_q4haw")
type = SubResource("Resource_le3mh")

[connection signal="plane_collided" from="gameLayer/player" to="gameLayer/CarMesh" method="stopCar"]
