[gd_scene load_steps=23 format=3 uid="uid://c0y4dyau3t2m"]

[ext_resource type="PackedScene" uid="uid://chjy4i16ags2x" path="res://Scenes/gameScenes/backgroundlayer3D.tscn" id="1_1ilih"]
[ext_resource type="Script" path="res://Scripts/cameraScript.gd" id="3_5we1y"]
[ext_resource type="Script" path="res://Scripts/carScript.gd" id="3_hcua3"]
[ext_resource type="Script" path="res://Scripts/obstacles/obstacle3DSpawner.gd" id="4_2rqip"]
[ext_resource type="PackedScene" uid="uid://b5vohw25088j3" path="res://Scenes/player/player_plane2.tscn" id="4_5rixn"]

[ext_resource type="PackedScene" uid="uid://bxptbdo7fafog" path="res://Scenes/obstacles/obstacleBase3D.tscn" id="6_05ryx"]
[ext_resource type="Script" path="res://Scripts/obstacles/obstacleType.gd" id="7_qlim4"]
[ext_resource type="PackedScene" uid="uid://c4ruef3eb83oi" path="res://Scenes/obstacles/obstacle_bouncing_ball.tscn" id="8_ksxhu"]
[ext_resource type="PackedScene" uid="uid://dfaprsx3tdge" path="res://Scenes/obstacles/obstacle_iron_pipe.tscn" id="9_6mjcs"]
[ext_resource type="PackedScene" uid="uid://cshgatlac37rk" path="res://Scenes/obstacles/obstacle_flies.tscn" id="10_s4vhm"]
[ext_resource type="PackedScene" uid="uid://bromsj0wkcwby" path="res://Scenes/obstacles/obstacle_drone_up.tscn" id="11_48sr5"]
[ext_resource type="PackedScene" uid="uid://chd2uc2yqtm7m" path="res://Scenes/obstacles/obstacle_wood_plank.tscn" id="12_vaeud"]
[ext_resource type="PackedScene" uid="uid://6ngnrx7vy3qw" path="res://Scenes/obstacles/obstacle_brick.tscn" id="13_pqxct"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_q5vsl"]
friction = 0.5
bounce = 0.5

[sub_resource type="BoxMesh" id="BoxMesh_7k1ab"]
size = Vector3(0.5, 0.1, 0.3)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_xuh51"]
height = 1.0
radius = 0.25

[sub_resource type="CylinderMesh" id="CylinderMesh_5qsmm"]
top_radius = 0.25
bottom_radius = 0.25
height = 1.0

[sub_resource type="BoxShape3D" id="BoxShape3D_2b7yy"]
size = Vector3(24, 1, 4)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_m3vfq"]
height = 0.841654
radius = 0.337474

[sub_resource type="CapsuleMesh" id="CapsuleMesh_76khr"]

[sub_resource type="SphereShape3D" id="SphereShape3D_q4haw"]
radius = 1.0

[sub_resource type="Resource" id="Resource_le3mh"]
script = ExtResource("7_m8pou")
name = ""
objectPath2D = ""
objectPath3D = ""

[node name="Node3D" type="Node3D"]

[node name="backgroundLayer" parent="." instance=ExtResource("1_1ilih")]
transform = Transform3D(1.00261, 0, 0, 0, 1.00261, 0, 0, 0, 1.00261, 0, 0, -2)

[node name="gameLayer" type="Node3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="gameLayer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.724, 6.215, 1.42)
script = ExtResource("3_5we1y")
topOffset = 0.7
bottomOffset = -0.7

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="gameLayer"]
transform = Transform3D(-0.00567264, 0.541678, -0.840567, -0.00880223, 0.84052, 0.541708, 0.999945, 0.0104718, 1.00237e-08, -0.597, 3.46, 0)
shadow_enabled = true

[node name="player" parent="." instance=ExtResource("2_0k75b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.226, 2.7265, 0.619)
sleeping = true
freeze = true
max_contacts_reported = 5
contact_monitor = true
upwardForceValue = 15.0
bodyShape = SubResource("BoxShape3D_gka7o")
rotationalSpeedDeg = 90.0
startSpeed = Vector3(2, 6, 0)
maxAngle = 30.0
minAngle = -30.0
areaScale = Vector3(1, 5, 1)

[node name="CarMesh" type="MeshInstance3D" parent="gameLayer"]
transform = Transform3D(1, 7.81743e-05, -0.00011466, -7.81743e-05, 1, 1.54052e-05, 0.00011466, -1.54052e-05, 1, 3.316, 0.05, 0)
mesh = SubResource("BoxMesh_7k1ab")
skeleton = NodePath("../..")
script = ExtResource("3_hcua3")

[node name="RayCast3D" type="RayCast3D" parent="gameLayer/CarMesh"]
transform = Transform3D(-4.37114e-08, -1, 0, -4.37114e-08, 1.91069e-15, -1, 1, -4.37114e-08, -4.37114e-08, 0, 0, 0)
target_position = Vector3(0, -0.5, 0)
hit_back_faces = false

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.421, 2.89, 3.85974)
script = ExtResource("3_5we1y")
topOffset = 0.4
bottomOffset = -0.4

[node name="obstacleSpawner" type="Node3D" parent="."]
script = ExtResource("4_2rqip")

[node name="bin" type="StaticBody3D" parent="gameLayer" groups=["goal"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22.2691, 0.304, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="gameLayer/bin"]
shape = SubResource("CylinderShape3D_xuh51")

[node name="MeshInstance3D" type="MeshInstance3D" parent="gameLayer/bin"]
mesh = SubResource("CylinderMesh_5qsmm")

[node name="floor" type="StaticBody3D" parent="gameLayer" groups=["floor"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="gameLayer/floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, -0.5, 0)
shape = SubResource("BoxShape3D_2b7yy")

[node name="outerCan" type="CollisionShape3D" parent="gameLayer/floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22.2834, 0.196, 0)
shape = SubResource("CylinderShape3D_m3vfq")

[node name="obstacle2" parent="gameLayer" instance=ExtResource("6_05ryx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.616, 3.698, 0)
currMesh = SubResource("CapsuleMesh_76khr")
currShape = SubResource("SphereShape3D_q4haw")
type = SubResource("Resource_le3mh")

[connection signal="plane_collided" from="gameLayer/player" to="gameLayer/CarMesh" method="stopCar"]
[node name="Obstacle_Bouncing Ball" parent="." instance=ExtResource("8_ksxhu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.76165, 1.35911, 0.61946)

[node name="Obstacle_Iron_Pipe" parent="." instance=ExtResource("9_6mjcs")]
transform = Transform3D(0.707107, -0.707107, 0, 0.707107, 0.707107, 0, 0, 0, 1, 9.57711, 3.04839, 0.619)

[node name="obstacle_flies" parent="." instance=ExtResource("10_s4vhm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.08766, 1.78362, 0.594162)

[node name="Drone" parent="." instance=ExtResource("11_48sr5")]
transform = Transform3D(0, -1, 0, 1, 0, 0, 0, 0, 1, 4.74113, 2.43458, 0.594162)
gravity = -15.0

[node name="ObstacleWoodPlank" parent="." instance=ExtResource("12_vaeud")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.98438, 4.90488, 0.42454)

[node name="ObstacleBrick" parent="." instance=ExtResource("13_pqxct")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.62713, 4.31389, 0.583054)

[connection signal="body_entered" from="player" to="player" method="_on_body_entered"]
